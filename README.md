<img src="https://capsule-render.vercel.app/api?type=waving&color=CF1020&height=150&section=header" />


# Spirta_Run_3D

## 목차
1. [프로젝트 소개](#프로젝트-소개)
2. [팀원 소개](#팀원-소개)
3. [구성](#구성)
4. [주요기능](#주요기능)
5. [개발기간](#개발기간)
6. [와이어프레임](#와이어프레임)
7. [트러블 슈팅](#트러블-슈팅)

<br>

---

<br>

# 프로젝트 소개
## 프로젝트 명 : 3DRun
레퍼런스 게임 : [Subway Surfers](https://namu.wiki/w/Subway%20Surfers)
- 무한히 이어지는 맵에서 점수를 모으고, 장애물을 피하며 달리는 **3D 러닝 액션게임**.

(설명)

플레이 목표 : 

<br>

---

<br>

# 팀원 소개

### 고태웅(팀장)
- 총괄 및 게임 매니저 담당
- 사운드 및 음악
- 캐릭터 커스텀마이징
- 전체 코드 통합 및 오류 수정

### 이명은
- 맵 구현 및 환경효과 추가
- UI 제작(대기화면, 게임종료 등)
- 체력, 점수 기능
- Readme 작성

### 이찬희
- 장애물 배치/패턴 제작
- 코인 아이템 제작
- 업적 시스템 구현
- 발표

### 주의동
- 플레이어 이동 구현
- 캐릭터 애니메이션 제작, 점프/충돌 애니메이션 효과 추가
- 설정창 구현
- PPT 제작

<br>

---

<br>

# 구성

<h2>📁 GitHub Repository 구조</h2>
<ul>
  <li><strong>master (root)</strong>
    <ul>
      <li><strong>feature</strong>
        <ul>
          <li>feat/player-movement</li>
          <li>feat/Obstacle <em>(자동차)</em></li>
          <li>feat/map</li>
          <li>feat/UI</li>
        </ul>
      </li>
      <li><strong>origin</strong>
        <ul>
          <li>origin/Achievement</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>



<br>

---

<br>

# 주요기능

캐릭터 조작 : 

장애물(자동차) : 

점수, 체력바 : 

업적 : 

캐릭터 커스텀 : 


<br>

---

<br>

# 개발기간

<h2>📆 프로젝트 개발 일정</h2>

<h3>🗓️ 사전 기획 <small>(08/14 목)</small></h3>
<ul>
  <li>프로젝트 주제 선정 및 범위 설정</li>
  <li>레퍼런스 게임 분석 및 핵심 메커니즘 파악</li>
  <li>개발 일정 및 역할 분담</li>
  <li>기본 시스템 구현(씬/코드/폴더 분리)</li>
</ul>

<hr>

<h3>🚀 핵심 기능 개발 <small>(08/18 월 ~ 08/19 화)</small></h3>
```아래 작성해야됨
<ul>
  <li>캐릭터 움직임 및 점프 개발</li>
  <li>맵, 레벨 디자인 초안 작성</li>
  <li>UI 프레임워크 구축</li>
  <li>스프라이트 에셋 제작</li>
</ul>

<hr>

<h3>🏁 최종 완성 및 마무리 <small>(08/20 수)</small></h3>
<ul>
  <li>오류 및 수정 사항 피드백</li>
  <li>피드백 기반 게임 밸런싱 조정</li>
  <li>게임 완성도 향상 및 마무리</li>
  <li>최종 발표 준비 및 시연</li>
</ul>

<hr>


---

# 와이어프레임

https://www.figma.com/design/RFvjWCPSmOGXrW1Ya0HW5l/3D-Subway-Surfers?node-id=0-1&p=f&t=jaPXuedHqRRSu6OB-0

---

# 트러블 슈팅

## 2개의 버튼으로 하나의 플랫폼 조작 

### 🔍 문제 상황
처음에는 버튼이 **1개뿐이었기 때문에**, 해당 버튼 하나만으로 플랫폼을 조작하도록 단순하게 구현했다.  
이 과정에서 **버튼 구조를 별도로 설계하지 않고**, 버튼과 플랫폼을 직접 연결하는 방식으로 구현함.

하지만 이후 **버튼을 하나 더 추가하고 테스트**하는 과정에서 문제가 발생함.  
새로 추가된 버튼은 **플랫폼과 직접 연결되지 않았기 때문에**, 버튼을 눌러도 아무런 반응이 없었고 플랫폼 조작이 불가능했다.

---

### 💡 튜터님 피드백
튜터님으로부터 구조 자체를 바꿔보자는 피드백을 받음.  
핵심 아이디어는 다음과 같았다:

> **"버튼이 플랫폼을 직접 가리키는 것이 아니라, 버튼들과 플랫폼을 통합적으로 관리하는 '버튼 그룹'을 만들고, 버튼은 충돌만 감지한 뒤 해당 그룹에게 신호를 전달하는 구조로 변경하자."**

---

### 🔧 해결 방법
튜터의 피드백을 반영하여 다음과 같은 구조로 리팩토링 진행:

- **ButtonGroup**: 플랫폼과 버튼들을 통합 관리  
- **Button**: 충돌(누름)만 감지하고, 조작 로직은 그룹에 위임  
- **Platform**: 그룹의 명령에 따라 동작

이 구조를 통해 버튼이 몇 개가 되든, 어떤 버튼이 눌리든 **그룹을 통해 일관된 방식으로 플랫폼을 제어**할 수 있게 됨.

---

### ✅ 결과 및 이점
- 문제였던 **버튼-플랫폼 연결 실패 이슈 해결**
- 버튼을 **유연하게 확장 가능**한 구조로 개선
- **책임 분리**와 **코드 재사용성 향상**
- 그룹 기반 구조로 **전체적인 관리가 쉬워짐**

---

### 📝 회고
단순하게 구현했던 초기 구조는 작은 테스트에는 문제 없었지만, **확장성 측면에서 매우 취약**했다.  
이번 경험을 통해 **처음부터 확장 가능성과 관리 구조를 고려한 설계**가 중요하다는 것을 배움.  
또한, 피드백을 적극 반영하고 구조를 리팩토링함으로써, 단순한 기능 구현을 넘어서 **효율적인 구조 설계 경험**을 쌓을 수 있었음.

---

## 🛠️ 트러블슈팅: Map Asset 데이터 소실

---

### 🔍 문제 상황

팀 프로젝트 초기에 **맵 제작을 여러 명이 분담**하여 진행하기로 결정하였고, 각자 **개별 브랜치에서 맵을 제작**한 뒤 GitHub를 통해 병합(Merge) 작업을 진행하였습니다.

하지만 병합 과정에서 **등록한 일부 Asset(Sprite, Palette 등)의 데이터가 소실되는 문제**가 발생하였습니다.  
맵 일부가 깨져 보이거나, 에디터 상에서 Sprite 연결이 해제되는 등의 현상이 확인되었습니다.

---

### 🧪 원인 분석

문제의 원인은 다음과 같습니다:

- ❌ **Meta 파일 병합 누락**  
  Unity는 `.meta` 파일을 통해 Asset의 GUID를 관리하는데, 병합 시 이 파일들이 누락되면서 참조가 끊어졌습니다.
  
- ⚠️ **Sprite Source 통일되지 않음**  
  각 팀원이 서로 다른 Sprite Sheet 또는 경로를 사용함에 따라 GUID 충돌 및 일관성 없는 참조 문제가 발생하였습니다.

---

### 🔧 해결 방법

1. **Sprite Source 통일**  
   - 모든 맵에서 사용하는 Sprite를 `Art/Sprites/master_spritesheet.png`로 통합
2. **슬라이싱 재작업 및 Palette 갱신**  
   - 통합된 Sprite Sheet를 기준으로 다시 슬라이싱 후 기존 Palette에 덮어씌움
3. **HotFix 브랜치 생성 후 통합 작업**  
   - 손상된 각 브랜치에서 필요한 `.meta` 파일 및 Asset 복사
   - 소실된 Asset을 덮어씌우거나 수동으로 다시 세팅하여 복구
4. **정상 여부 검토**  
   - 모든 맵을 열어 Sprite 누락 없이 동작하는지 검증

---

### ✅ 결과 및 이점

- 깨졌던 맵 데이터가 정상 복원됨
- Sprite 및 Asset 관리를 통일시켜 **향후 작업 시 안정성 확보**
- Git에서 **`.meta` 파일의 중요성**에 대한 실전 학습 경험

---

### 📝 회고

에셋을 공유하는 Unity 프로젝트에서 `.meta` 파일의 중요성을 간과하면 큰 문제가 발생할 수 있다는 것을 체감했습니다.  
또한 팀원 간 Asset 경로와 Sprite Source를 **통일하지 않은 채 개별적으로 관리하면 병합 시 충돌이 매우 쉽게 발생**한다는 점도 알게 되었습니다.

이번 경험을 통해 **협업 시 에셋 관리 규칙 수립과 Git 워크플로우 사전 정리의 필요성**을 뼈저리게 느꼈습니다.  
추후에는 PR 전 반드시 `.meta` 파일 포함 여부를 확인하고, 팀 차원의 에셋 관리 기준을 문서화하여 재발을 방지할 예정입니다.
~~~

<img src="https://capsule-render.vercel.app/api?type=waving&color=0C68AB&height=150&section=footer" />
